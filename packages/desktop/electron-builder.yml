# ============================================
# ğŸ“– TypeScript + Electron å­¦ä¹ ç¬”è®°ï¼šæ‰“åŒ…é…ç½®
# ============================================
# ğŸ“– å­¦ä¹ ç‚¹ï¼šelectron-builder
# electron-builder èƒ½æŠŠ Electron åº”ç”¨æ‰“åŒ…æˆå„å¹³å°çš„å®‰è£…åŒ…ï¼š
#   - macOS: .dmgï¼ˆç£ç›˜æ˜ åƒï¼Œæ‹–æ‹½å®‰è£…ï¼‰
#   - Windows: .exeï¼ˆNSIS å®‰è£…å™¨ï¼‰
#   - Linux: .AppImageï¼ˆå…å®‰è£…ï¼ŒåŒå‡»è¿è¡Œï¼‰

# ğŸ“– å­¦ä¹ ç‚¹ï¼šappId
# åº”ç”¨çš„å”¯ä¸€æ ‡è¯†ï¼ŒmacOS ç”¨å®ƒæ¥åŒºåˆ†æ²™ç›’å’Œé€šçŸ¥æƒé™
# æ ¼å¼é€šå¸¸æ˜¯ã€Œåå‘åŸŸåã€: com.å…¬å¸.åº”ç”¨å
# ğŸ“– å­¦ä¹ ç‚¹ï¼šç¦ç”¨è‡ªåŠ¨æ›´æ–°å‘å¸ƒ
# æ²¡æœ‰é›†æˆ electron-updater æ—¶ï¼Œä¸éœ€è¦ç”Ÿæˆæ›´æ–°ä¿¡æ¯
# å¦åˆ™ CI ä¸Šä¼šå› æ‰¾ä¸åˆ° repository é…ç½®è€ŒæŠ¥é”™
publish: null

appId: com.bookmark.desktop
productName: ä¹¦ç­¾ç®¡ç†å™¨

# ğŸ“– å­¦ä¹ ç‚¹ï¼šmonorepo ä¸­çš„ electron ç‰ˆæœ¬
# åœ¨ npm workspaces ä¸­ï¼Œelectron è¢«æå‡åˆ°æ ¹ç›®å½•çš„ node_modules
# electron-builder é»˜è®¤åªåœ¨å½“å‰ package çš„ node_modules ä¸­æŸ¥æ‰¾
# éœ€è¦æ˜¾å¼æŒ‡å®šç‰ˆæœ¬å·æ¥è§£å†³è¿™ä¸ªé—®é¢˜
electronVersion: 40.6.1

# ğŸ“– æ‰“åŒ…è¾“å‡ºç›®å½•
directories:
  output: release/${version}

# ğŸ“– å­¦ä¹ ç‚¹ï¼šfiles é…ç½®
# æŒ‡å®šå“ªäº›æ–‡ä»¶ä¼šè¢«æ‰“åŒ…è¿›æœ€ç»ˆçš„åº”ç”¨ä¸­
# Vite æ„å»ºåçš„äº§ç‰©åœ¨ dist/ï¼ˆæ¸²æŸ“è¿›ç¨‹ï¼‰å’Œ dist-electron/ï¼ˆä¸»è¿›ç¨‹ï¼‰
files:
  - dist/**/*
  - dist-electron/**/*

# ============================================
# ğŸ“– å„å¹³å°é…ç½®
# ============================================

# ğŸ“– macOS é…ç½®
mac:
  # ğŸ“– target æŒ‡å®šç”Ÿæˆçš„å®‰è£…åŒ…ç±»å‹
  # dmg = ç£ç›˜æ˜ åƒï¼ˆmacOS æœ€å¸¸è§çš„åˆ†å‘æ–¹å¼ï¼‰
  # zip = å‹ç¼©åŒ…ï¼ˆç”¨äºè‡ªåŠ¨æ›´æ–°ï¼‰
  target:
    - dmg
    - zip
  # ğŸ“– æ„å»º x64ï¼ˆIntelï¼‰å’Œ arm64ï¼ˆApple Siliconï¼‰ä¸¤ä¸ªæ¶æ„
  artifactName: BookmarkManager-${version}-${arch}.${ext}

# ğŸ“– Windows é…ç½®
win:
  target:
    # ğŸ“– NSIS = Nullsoft Scriptable Install System
    # Windows æœ€å¸¸è§çš„å®‰è£…å™¨æ ¼å¼ï¼ˆ"ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥"å¼å®‰è£…ï¼‰
    - nsis
  artifactName: BookmarkManager-${version}-setup.${ext}

# ğŸ“– NSIS å®‰è£…å™¨çš„è¯¦ç»†é…ç½®
nsis:
  oneClick: false # ğŸ“– false = æ˜¾ç¤ºå®‰è£…å‘å¯¼ï¼Œè®©ç”¨æˆ·é€‰æ‹©å®‰è£…ç›®å½•
  perMachine: false # ğŸ“– false = ä»…ä¸ºå½“å‰ç”¨æˆ·å®‰è£…ï¼ˆä¸éœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
  allowToChangeInstallationDirectory: true # ğŸ“– å…è®¸è‡ªå®šä¹‰å®‰è£…è·¯å¾„
  deleteAppDataOnUninstall: false # ğŸ“– å¸è½½æ—¶ä¿ç•™ç”¨æˆ·æ•°æ®

# ğŸ“– Linux é…ç½®
linux:
  target:
    # ğŸ“– AppImage = Linux é€šç”¨æ ¼å¼ï¼Œä¸éœ€è¦ root æƒé™å³å¯è¿è¡Œ
    - AppImage
  category: Utility
  artifactName: BookmarkManager-${version}.${ext}
